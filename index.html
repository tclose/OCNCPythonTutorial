<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>reveal.js - The HTML Presentation Framework</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/ocnc.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h1>OCNC Python Tutorial</h1>
					<h3>Romain Caze &amp; Tom Close</h3>
				</section>

				<section>
					<h2>What is Python?</h2>
					<p>Flexible, object-oriented scripting language</p>
					<ul>
						<li>Easy to learn</li>
						<li>Fast to write/debug</li>						
						<li>Interactive (if you like)</li>
						<li>Supported by many 3rd party modules</li>
					</ul>
				</section>

				<!-- Example of nested vertical slides -->
				<section>
					<section>
						<h2>What can you do with Python?</h2>
						<ul>
							<li>Automate repetitive tasks (e.g. renaming files)</li>
							<li>Run neural simulations (NEURON, NEST, Brian, etc...)</li>
							<li>Numerical analysis (NumPy, SciPy)</li>
							<li>Symbolic algebra (SymPy, Sage)</li>
							<li>Visualise data (MatPlotLib, VisPy)</li>
							<li>Distrbute programs over HPC clusters (mpi4py)</li>
							<li>Much more...</li>
						</ul>
						
					</section>
					<section>
						<h2>Basement Level 1</h2>
						<p>Nested slides are useful for adding additional detail underneath a high level horizontal slide.</p>
					</section>
					<section>
						<h2>Basement Level 2</h2>
						<p>That's it, time to go back up.</p>
						<br>
						<a href="#/2">
							<img width="178" height="238" data-src="https://s3.amazonaws.com/hakim-static/reveal-js/arrow.png" alt="Up arrow" style="-webkit-transform: rotate(180deg);">
						</a>
					</section>
				</section>
				<section>
		            <h1>Say hello</h1>
		            <p>..interactively</p>
		            <pre><code>$ python
Python 2.7.2 (default, Oct 11 2012, 20:14:37) 
[GCC 4.2.1 Compatible Apple Clang 4.0 (tags/Apple/clang-418.0.60)] on darwin
Type "help", "copyright", "credits" or "license" for more information.
>>> print 'Hello, Python!'
Hello, Python!</code></pre>
		            <h3 id="or-via-a-script"></h3>
					<p>... or via a script "<code>hello_python.py</code>"...</p>
		            <pre><code class="sourceCode python">#!/usr/bin/env python
		
print 'Hello, Python!'  # Say hello to my friend!</code></pre>
            <p>...which can be run like so...</p>
            <pre><code>$ python hello_python.py 
Hello, Python!</code></pre>
		        </section>
				<section>
					<h1>Basic types</h1>
					<pre><code class="sourceCode python">a = 1  # integer (int)
b = 2.0  # floating point number (float)
c = True  # boolean value True/False (bool) 
d = "Hello OCNC students!"  # "string" of characters, i.e. text (str)
e = 'Hello "the best year" of OCNC students!'  # another string
</code></pre>
				<p>Python is a "dynamic language",<br/>(i.e. any variable can be created at any time)</p>
					<p>To see the value of a variable use "print"</p>
					<pre><code class="sourceCode python">print a</code></pre>
				</section>
				<section>
					<h1>Basic operators</h1>
					<p>+, -, *, /, //, **, %, ==, &lt;, &gt;, &lt;=, &gt;=, !=, and, or, not</p>
					<p>Variables are combined with "operators" as it makes sense</p>
					<pre><code class="sourceCode python">print a + b
print 2 * a == b
print a / b
print a &lt; b and (a / b + 0.5) &gt; a
print a / 2  # extra points if you can explain what happens here!</code></pre>
					<p>The type of the operation depends on the type</p>
					<pre><code class="sourceCode python">print 'OCNC' + '2015'</code></pre>					
				</section>
				<section>
					<h1>Basic containers</h1>
					<p>Python has several convenient containers</p>
					<pre><code class="sourceCode python">a_tuple = (1, 2, 3)  # tuples (single, double, triple, etc...)
a_list = [1, 2, 3]  # lists (same as tuples but can change length)
a_dict = {'first':1, 'second':2, 'third':3}  # a dictionary</code></pre>
					<p>They can contain any type including other containers</p>
					<pre><code class="sourceCode python">a_nested_list = [[1, 2], [1, 2, 3], [1]]  #  nested lists
a_nested_dict = {'foo': [1, 2, 3],
                 'bar': {42:'meaning of life', 1:'the loneliest'},
                 'abc': 'its easy as'}  # nested dictionary/list</code></pre>
				</section>
				<section>
					<h1>Numpy arrays</h1>
					<p>Like a list/tuple but much faster</p>
					<pre><code class="sourceCode python">import numpy as np  # We'll come back to this
an_array = np.array([1, 2, 3, 4, 5])
another_array = np.ones(5)
yet_another_array = np.ones(6)</code></pre>
					<p>Element-wise arithmetic between arrays of same length</p>
					<pre><code class="sourceCode python">print an_array + another_array  # add element-wise
print an_array - another_array  # subtract element-wise
print an_array + yet_another_array  # Error!! lengths don't match</code></pre>
					<p>Multi-dimensional, not nested</p>
					<pre><code class="sourceCode python">two_d = np.array([[1, 2], [3, 4]])  # works fine
two_d = np.array([[1, 2], [3, 4, 5]])  # Error!! Dims. not consistent </code></pre>
				</section>
				<section>
					<h1>Accessing containers</h1>
					<p>Tuples, Lists and 1-D Numpy arrays</p>
					<pre><code class="sourceCode python">a_list = [1, 2, 3, 4, 5]  # or (1, 2, 3, 4, 5) for tuple
print a_list[0]  # note! indexing starts from 0 (not 1 as in MATLAB)
print a[1:5]    # access a range of elements.
print a[-1]     # you can also index from the end
print a[0:4:2]  # every second element
print 3 in a  # test if it has a particular element.</code></pre>
					<p>Dictionaries</p>
					<pre><code class="sourceCode python">a_dict = {'1st':10, '2nd':100, '3rd':1000}
print a_dict['2nd']  # useful for mapping values to strings</code></pre>
					<p>Multi-dimension Numpy arrays</p>
					<pre><code class="sourceCode python">an_array = np.array([[1, 2, 3], [4, 5, 6], [7, 8, 9]])
print an_array[1, 2]  # access a single element
print an_array[2, :]  # access a row
print an_array[:, 1]  # access a column</code></pre>
				</section>
				<section>
					<h2>Modifying containers</h2>
					<p>Lists and dictionaries can be modified (not tuples)</p>
					<pre><code class="sourceCode python">a_list = [1, 2, 3, 4, 5]
a_list[2] = 10
a_list[9] = 20  # Error! List is shorted than 10
a_list.append(30)  # Also try 'remove', 'pop' and 'extend'
a_dict = {'1st':10, '2nd':100, '3rd':1000}
a_dict['1st'] = 20  # replaces value for '1st'
a_dict['4th'] = 10000  # works fine, new value is inserted</code></pre>
					<p>But be careful, for efficient memory usage and speed Python <em>variables</em> are actually labels on the underlying data!</p>
					<pre><code class="sourceCode python">another_list = a_list  # or so we may think...
another_list.append(2)  #  Warning! this may not be what you intend
print a_list</code></pre>
					<p>If this causes a problem, you need to use <strong>copy</strong> or <strong>deepcopy</strong>:</p>
					<pre><code class="sourceCode python">import copy
b = copy.copy(a)
a.append(3) # b==???</code></pre>
				</section>				
        <section>
            <h1>'If' statement</h1>
            <p>With <code>if ... else ...</code>, use <code>and</code>, <code>or</code>, and
                    <code>not</code>:</p>
            <pre><code class="sourceCode python">simulator = "Nest"
language = "Python"

if simulator=="Nest" and language=="Python":
    print "A Nest simulation written in Python."

if simulator!="Nest":
    print "Not a Nest simulation."

if not language=="Python":
    print "Not written in Python."</code></pre>
        	<p>You can make loops with <code>for</code> or <code>while</code>.</p>
            <pre><code class="sourceCode python">j = 0
for i in range(10):  # range produces a list from 0 to arg - 1
    j += i
    print 'i={}, j={}'.format(i, j)</code></pre>
        </section>
				<section>
					<h1>Indents</h1>
					<p>Code blocks are defined by the fixed indents followed by '<strong>:</strong>'<br/> For
						example, indent the codes in conditionals,</p>
					<pre><code class="sourceCode python">if True:
    print "True"
    print "To be precise, that was True"
else:
    print "False"</code></pre>
					<p>in loops,</p>
					<pre><code class="sourceCode python">while alive:
    print 'gambate!'</code></pre>
					<p>or when you define functions</p>
					<pre><code class="sourceCode python">def f(x):
    y = x + 1
    return y</code></pre>
				</section>				
        <section>
            <h1>Functions</h1>
            <pre><code class="sourceCode python">def f(x, y):
    return x</code></pre>
            <p>Then, try (one of them causes an error!)</p>
            <pre><code class="sourceCode python">f(1, 2)
f(x=1, y=2)
f(y=2, x=1)
f(x=2, 2)</code></pre>
            <p>The default values can be also specified:</p>
            <pre><code class="sourceCode python">def f(x, y=2):
    return x+y</code></pre>
            <p>Different ways of calling a function</p>
            <pre><code class="sourceCode python"  data-trim contenteditable>
f(1)  # No default values
f(1, y=3)  # With default values
f(*[1, 3]) # From a list using '*'
f(**{'x': 1, 'y': 3})  # From a dictionary using '**'
 			</code></pre>
        </section>
        <section>
            <h3 id="help-strings">Help strings</h3>
            <pre><code class="sourceCode python">def func(x, y):
   """ func(x, y) returns the sum of x and y."""
   return x+y</code></pre>
            <p>Then, try</p>
            <pre><code class="sourceCode python">help(func)</code></pre>
            <p>Try also other functions that we have seen such as</p>
            <pre><code class="sourceCode python">help(range)</code></pre>
            <p>and</p>
            <pre><code class="sourceCode python">help('in')</code></pre>
        	<p>or in IPython</p>
        	<pre><code class="sourceCode python">func?</code></pre>
        </section>
		<section>
			<h1>Returning tuples</h1>
			<p>If you want to return multiple values us a tuple</p>
			<pre><code class="sourceCode python">def integer_division(number, divisor):
    divided = number // divisor
    remainder = number % divisor
    return divided, remainder  # you can drop the parenthesis</code></pre>
			<p>Receiving tuples</p>
			<pre><code class="sourceCode python">result = integer_division(15, 6)
divided = result[0]
remainder = result[1]</code></pre>
Implicitly unpacking is more convenient
<pre><code class="sourceCode python">divided, remainder = integer_division(15, 6)  # More convenient</code></pre>
		</section>
		<section>
            <h1>Modules</h1>
            <p>In Python, every file is as a <em>module</em> with its own namespace.
            	<p>For example, let's say you have <code>mymodule.py</code> as</p>
            <pre><code class="sourceCode python">"""Here you write a module help. Try help(mymodule) after import."""
def func1():
    print "You called func1!"</code></pre>
            <p>You can call <code>func1</code> as</p>
            <pre><code class="sourceCode python">import mymodule
mymodule.func1()</code></pre>
            <p>or with an alias,</p>
            <pre><code class="sourceCode python">import mymodule as m
m.func1()</code></pre>
            <p>or import the function directly first</p>
            <pre><code class="sourceCode python">from mymodule import func1
func1()</code></pre>
        </section>
        <section>
            <p>A directory can be a module too if it has <code>__init__.py</code></p>
            <p><code>mymodule/__init__.py</code></p>
            <pre><code class="sourceCode python">"""
Module help
"""
import submodule1</code></pre>
            <p><code>mymodule/submodule1.py</code></p>
            <pre><code class="sourceCode python">"""
Submodule help
"""
def func1():...</code></pre>
            <p>Then, <code>func1</code> can be called as</p>
            <pre><code class="sourceCode python">import mymodule.submodule1

mymodule.submodule1.func1()</code></pre>
        </section>
       
        <section>
            <h1>Classes and objects</h1>
            <p>The classes are defined as</p>
            <pre><code class="sourceCode python">class Cell(object):
    """A very simple cell model"""
    def __init__(self, cell_type):
        self.cell_type = cell_type
        self._patch_clamps = []
        
    def add_patch_electrode(self, location):
        self._patch_clamps.append(location)
            
    def list_patches(self):
        return self.cell_type + ': ' + ', '.join(self._patch_clamps)</code></pre>
            <p>(Note <strong><code>self</code></strong> in the method definitions)</p>
            <p>and then you can make objects of the class as</p>
            <pre><code class="sourceCode python">c = Cell(cell_type='pyr')
c.cell_type                    # Call attributes.
c.add_patch_electrode('soma')  # Call methods.
c.add_patch_electrode('spiny_dendrite')
print c.list_patches()</code></pre>
        </section>
        <!--<section>
            <p>You can also subclass other classes as</p>
            <pre><code class="sourceCode python">class CellList(list):
    """ Need help """
    def __init__(self):
        self.size = len(self)
    
    def append(self, cell):
        super(CellList, self).append(cell)
        print "You just added a ", cell.cell_type, "in this list."
        self.size += 1
        print "The number of cells is now", self.size</code></pre>
            <pre><code class="sourceCode python">l = CellList()
l.append(c)</code></pre>
        </section>-->
        <!--<section>
            <h2 id="beware-when-you-need-to-create-many-many-custom-objects">Beware when you need to
                create many many custom objects!</h2>
            <p>Python objects are dynamic, which makes them very easy to use, but are not optimzed
                for memory efficiency. Creating many (thousands, millions,...) of them often can
                make this problem serious (by blowing up your RAM). The solution is to fix the list
                of attributes by</p>
            <ul>
                <li>using <code>__slots__</code> (ask google if you want to know more)</li>
                <li>subclassing <code>namedtuple</code> (again ask google)</li>
            </ul>
        </section>-->
        <section>
            <h1>Read/write to file</h1>
            <pre><code class="sourceCode python">with open('example.dat', 'r+') as f: # open a file 'f'
    a = f.read()
    new_a = article.replace('butt', 'ass')
    f.write(new_a)</code></pre>
            <p><strong>Different 'mode' strings</strong></p>
            <ul>
                <li>'r' (default): reading only</li>
                <li>'w' : writing (an existing file will be erased)</li>
                <li>'r+' : read and writing</li>
            </ul>
        </section>
        <section>
            <h1>Installing packages</h1>
            <p>In <strong>most</strong> cases when you need to install a Python package, use <code>pip</code>...
            <pre class="sourceCode bash"><code class="sourceCode bash">$ pip install sympy</code></pre>
            <p>which will install the <code>sympy</code> package, or</p>
            <pre class="sourceCode bash"><code class="sourceCode bash">$ pip install neo</code></pre>
            <p>which will install the <code>neo</code> package.</p>
        </section>
        <section>
            <h1>More information</h1>
            <ul>
                <li>python_tutorial.pdf</li>
                <li>idiomatic_python.pdf</li>
                <li><a href="http://python.net/~goodger/projects/pycon/2007/idiomatic/handout.html"
                            ><strong>Code like a Pythonista</strong></a></li>
            </ul>
        </section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
